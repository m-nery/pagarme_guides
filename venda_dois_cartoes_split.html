<div class="container mx-auto p-4 md:p-8 max-w-4xl">

    <header class="text-center mb-12">
        <h1 class="text-3xl md:text-4xl font-bold text-gray-800">Guia: Venda com dois Cartões e Split</h1>
        <p class="mt-4 text-lg text-gray-600">Um guia do fluxo da API Pagar.me para uma transação multimeios com divisão de valores.</p>
         <p class="mt-4 text-sm text-gray-500">Para detalhes completos sobre cada endpoint, consulte a <a href="https://docs.pagar.me/reference/" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline font-medium">documentação oficial da Pagar.me</a>.</p>
    </header>

    <div class="space-y-8">

        <!-- Step 1: Create Recipients -->
        <div class="step-card bg-white p-4 md:p-6 rounded-xl shadow-sm">
            <div class="flex items-center mb-4">
                <div class="bg-indigo-100 text-indigo-700 w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg flex-shrink-0">1</div>
                <h2 class="text-lg md:text-xl font-semibold ml-4 text-gray-800">Criação dos Recebedores</h2>
            </div>
            <div class="border-b border-gray-200 mb-4">
                <nav class="flex flex-wrap space-x-2" data-step="1">
                    <button class="tab tab-active py-2 px-3 sm:px-4 rounded-t-lg font-medium text-sm sm:text-base" data-tab="explanation">Explicação</button>
                    <button class="tab py-2 px-3 sm:px-4 rounded-t-lg font-medium text-sm sm:text-base" data-tab="request">Requisição</button>
                    <button class="tab py-2 px-3 sm:px-4 rounded-t-lg font-medium text-sm sm:text-base" data-tab="response">Resposta</button>
                </nav>
            </div>
            <div class="content-container">
                <div class="tab-content" data-step="1" data-tab="explanation">
                    <p>O primeiro passo é cadastrar os recebedores (sellers) que participarão da divisão de valores. O `recipient_id` retornado será usado na criação do pedido.</p>
                    <p class="mt-4 text-sm"><strong>Link da documentação:</strong> <a href="https://docs.pagar.me/reference/criar-recebedor-1" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">https://docs.pagar.me/reference/criar-recebedor-1</a></p>
                </div>
                <div class="tab-content hidden" data-step="1" data-tab="request">
                    <div class="code-block" id="request-1-split-2cards">... (Mesma requisição do Passo 1 do Guia de Split) ...</div>
                </div>
                <div class="tab-content hidden" data-step="1" data-tab="response">
                    <div class="code-block" id="response-1-split-2cards">{
  "id": "<span class="highlight">re_xxxxxxxxxxxxxxxx</span>",
  "name": "Stark Industries",
  "status": "active"
}</div>
                </div>
            </div>
        </div>
        
        <!-- Step 2: Create Customer -->
        <div class="step-card bg-white p-4 md:p-6 rounded-xl shadow-sm">
            <div class="flex items-center mb-4">
                <div class="bg-indigo-100 text-indigo-700 w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg flex-shrink-0">2</div>
                <h2 class="text-lg md:text-xl font-semibold ml-4 text-gray-800">Cadastro do Cliente</h2>
            </div>
             <div class="border-b border-gray-200 mb-4">
                <nav class="flex flex-wrap space-x-2" data-step="2">
                    <button class="tab tab-active py-2 px-3 sm:px-4 rounded-t-lg font-medium text-sm sm:text-base" data-tab="explanation">Explicação</button>
                    <button class="tab py-2 px-3 sm:px-4 rounded-t-lg font-medium text-sm sm:text-base" data-tab="request">Requisição</button>
                    <button class="tab py-2 px-3 sm:px-4 rounded-t-lg font-medium text-sm sm:text-base" data-tab="response">Resposta</button>
                </nav>
            </div>
            <div class="content-container">
                 <div class="tab-content" data-step="2" data-tab="explanation">
                    <p>Cadastre o cliente que fará a compra. O `customer_id` retornado será usado nas próximas etapas.</p>
                    <p class="mt-4 text-sm"><strong>Link da documentação:</strong> <a href="https://docs.pagar.me/reference/criar-cliente-1" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">https://docs.pagar.me/reference/criar-cliente-1</a></p>
                </div>
                <div class="tab-content hidden" data-step="2" data-tab="request">
                    <div class="code-block" id="request-2-split-2cards">... (Mesma requisição do Passo 2 do Guia de Split) ...</div>
                </div>
                <div class="tab-content hidden" data-step="2" data-tab="response">
                    <div class="code-block" id="response-2-split-2cards">{
  "id": "<span class="highlight">cus_xxxxxxxxxxxxxxxx</span>",
  "name": "Steve Rogers",
  "status": "active"
}</div>
                </div>
            </div>
        </div>

        <!-- Step 3 & 4: Create Tokens -->
        <div class="step-card bg-white p-4 md:p-6 rounded-xl shadow-sm">
             <div class="flex items-center mb-4">
                <div class="bg-indigo-100 text-indigo-700 w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg flex-shrink-0">3</div>
                <h2 class="text-lg md:text-xl font-semibold ml-4 text-gray-800">Criação dos Tokens dos Cartões</h2>
            </div>
             <div class="border-b border-gray-200 mb-4">
                <nav class="flex flex-wrap space-x-2" data-step="3">
                    <button class="tab tab-active py-2 px-3 sm:px-4 rounded-t-lg font-medium text-sm sm:text-base" data-tab="explanation">Explicação</button>
                    <button class="tab py-2 px-3 sm:px-4 rounded-t-lg font-medium text-sm sm:text-base" data-tab="request">Requisição</button>
                    <button class="tab py-2 px-3 sm:px-4 rounded-t-lg font-medium text-sm sm:text-base" data-tab="response">Resposta</button>
                </nav>
            </div>
            <div class="content-container">
                <div class="tab-content" data-step="3" data-tab="explanation">
                    <p>Execute esta etapa no front-end da sua aplicação, usando sua <strong>chave pública (`public_key`)</strong>. É necessário gerar um token para <strong>cada cartão</strong> que será usado no pagamento.</p>
                </div>
                <div class="tab-content hidden" data-step="3" data-tab="request">
                    <div class="code-block" id="request-3-split-2cards">
# Requisição para o Cartão 1
{ "type": "card", "card": { ... } }

# Requisição para o Cartão 2
{ "type": "card", "card": { ... } }
                    </div>
                </div>
                <div class="tab-content hidden" data-step="3" data-tab="response">
                    <div class="code-block" id="response-3-split-2cards">
# Resposta para o Cartão 1
{
  "id": "<span class="highlight">token_xxxxxxxxxxxxxxx1</span>",
  "type": "card"
}

# Resposta para o Cartão 2
{
  "id": "<span class="highlight">token_xxxxxxxxxxxxxxx2</span>",
  "type": "card"
}
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 4: Create Cards -->
        <div class="step-card bg-white p-4 md:p-6 rounded-xl shadow-sm">
             <div class="flex items-center mb-4">
                <div class="bg-indigo-100 text-indigo-700 w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg flex-shrink-0">4</div>
                <h2 class="text-lg md:text-xl font-semibold ml-4 text-gray-800">Criação dos Cartões a partir dos Tokens</h2>
            </div>
             <div class="border-b border-gray-200 mb-4">
                <nav class="flex flex-wrap space-x-2" data-step="4">
                    <button class="tab tab-active py-2 px-3 sm:px-4 rounded-t-lg font-medium text-sm sm:text-base" data-tab="explanation">Explicação</button>
                    <button class="tab py-2 px-3 sm:px-4 rounded-t-lg font-medium text-sm sm:text-base" data-tab="request">Requisição</button>
                    <button class="tab py-2 px-3 sm:px-4 rounded-t-lg font-medium text-sm sm:text-base" data-tab="response">Resposta</button>
                </nav>
            </div>
            <div class="content-container">
                <div class="tab-content" data-step="4" data-tab="explanation">
                    <p>No seu back-end, salve os cartões no cofre da Pagar.me usando o `customer_id` e os `tokens` gerados. Você terá um `card_id` para cada cartão.</p>
                </div>
                <div class="tab-content hidden" data-step="4" data-tab="request">
                    <div class="code-block" id="request-4-split-2cards">
# Requisição para salvar o Cartão 1
POST /customers/<span class="highlight">cus_xxxxxxxxxxxxxxxx</span>/cards
{ "token": "<span class="highlight">token_xxxxxxxxxxxxxxx1</span>" }

# Requisição para salvar o Cartão 2
POST /customers/<span class="highlight">cus_xxxxxxxxxxxxxxxx</span>/cards
{ "token": "<span class="highlight">token_xxxxxxxxxxxxxxx2</span>" }
                    </div>
                </div>
                <div class="tab-content hidden" data-step="4" data-tab="response">
                    <div class="code-block" id="response-4-split-2cards">
# Resposta para o Cartão 1
{ "id": "<span class="highlight">card_xxxxxxxxxxxxxxx1</span>", ... }

# Resposta para o Cartão 2
{ "id": "<span class="highlight">card_xxxxxxxxxxxxxxx2</span>", ... }
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Step 5: Create Order -->
        <div class="step-card bg-white p-4 md:p-6 rounded-xl shadow-sm">
             <div class="flex items-center mb-4">
                <div class="bg-indigo-100 text-indigo-700 w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg flex-shrink-0">5</div>
                <h2 class="text-lg md:text-xl font-semibold ml-4 text-gray-800">Criação do Pedido Multimeios com Split</h2>
            </div>
             <div class="border-b border-gray-200 mb-4">
                <nav class="flex flex-wrap space-x-2" data-step="5">
                    <button class="tab tab-active py-2 px-3 sm:px-4 rounded-t-lg font-medium text-sm sm:text-base" data-tab="explanation">Explicação</button>
                    <button class="tab py-2 px-3 sm:px-4 rounded-t-lg font-medium text-sm sm:text-base" data-tab="request">Requisição</button>
                    <button class="tab py-2 px-3 sm:px-4 rounded-t-lg font-medium text-sm sm:text-base" data-tab="response">Resposta</button>
                </nav>
            </div>
            <div class="content-container">
                <div class="tab-content" data-step="5" data-tab="explanation">
                    <p>Crie o pedido com dois objetos no array `payments`, um para cada cartão. Cada pagamento terá seu `amount`, seu `card_id` e sua própria regra de `split`.</p>
                </div>
                <div class="tab-content hidden" data-step="5" data-tab="request">
                    <div class="code-block" id="request-5-split-2cards">{
  "customer_id": "<span class="highlight">cus_xxxxxxxxxxxxxxxx</span>",
  "items": [{
      "amount": 30000,
      "description": "Item Total",
      "quantity": 1
  }],
  "payments": [
    {
      "payment_method": "credit_card",
      "amount": 10000,
      "credit_card": {
        "capture": true,
        "card_id": "<span class="highlight">card_xxxxxxxxxxxxxxx1</span>"
      },
      "split": [{
          "amount": 9000,
          "recipient_id": "<span class="highlight">re_xxxxxxxxxxxxxxx_A</span>",
          "type": "flat"
      },{
          "amount": 1000,
          "recipient_id": "<span class="highlight">re_xxxxxxxxxxxxxxx_B</span>",
          "type": "flat"
      }]
    },
    {
      "payment_method": "credit_card",
      "amount": 20000,
      "credit_card": {
        "capture": true,
        "card_id": "<span class="highlight">card_xxxxxxxxxxxxxxx2</span>"
      },
      "split": [{
          "amount": 18000,
          "recipient_id": "<span class="highlight">re_xxxxxxxxxxxxxxx_A</span>",
          "type": "flat"
      },{
          "amount": 2000,
          "recipient_id": "<span class="highlight">re_xxxxxxxxxxxxxxx_B</span>",
          "type": "flat"
      }]
    }
  ]
}</div>
                </div>
                <div class="tab-content hidden" data-step="5" data-tab="response">
                    <div class="code-block" id="response-5-split-2cards">{
  "id": "or_xxxxxxxxxxxxxxxx",
  "status": "paid",
  "charges": [
    {
      "id": "<span class="highlight">ch_xxxxxxxxxxxxxxx1</span>",
      "amount": 10000,
      "status": "paid"
    },
    {
      "id": "<span class="highlight">ch_xxxxxxxxxxxxxxx2</span>",
      "amount": 20000,
      "status": "paid"
    }
  ]
}</div>
                </div>
            </div>
        </div>
        
    </div>
</div>
